html(ng-app='HR')
  head
    title HR
    // $location service used by AngularJS
    base(href="http://#{base}/")
    // Viewport mobile tag for sensible mobile support
    meta(name='viewport', content='width=device-width, initial-scale=1, maximum-scale=1')

    // STYLES
    link(rel="stylesheet", href="/styles/angular-material.css")
    link(rel="stylesheet", href="/styles/bootstrap.css")
    link(rel="stylesheet", href="/styles/layout.css")
    link(rel="stylesheet", href="/styles/materialdesignicons.css")
    link(rel="stylesheet", href="/styles/styles.css")
    link(rel="stylesheet", href="/styles/hr/form/form.css")
    link(rel="stylesheet", href="/styles/hr/home/home.css")
    link(rel="stylesheet", href="/styles/hr/schedule/schedule.css")
    link(rel="stylesheet", href="/styles/hr/team/team.css")
    // STYLES END
    link(rel='stylesheet', href='https://fonts.googleapis.com/css?family=RobotoDraft:300,400,500,700,400italic')

    //- script to get user session data passed by server from 'api/services/View.js'
    script.
      var data = !{JSON.stringify(user)}
      window.userSession = data
      //- console.log(data)

    //- include the google charts API
    script(type='text/javascript', src='https://www.google.com/jsapi')


  body(layout='column', ng-controller='HrCtrl' style='overflow:hidden;')
    div(ng-show="cover", style="position:fixed;width:100%;height:100%;background-color:white;z-index:100;")
      md-progress-circular(md-mode="indeterminate")
    md-toolbar(layout='row')
      .md-toolbar-tools
        md-button.md-icon-button(ng-click="toggleSidenav('left')", hide-gt-sm='', aria-label="Open Sidenav")
          md-icon(aria-label='Menu', md-svg-icon='https://s3-us-west-2.amazonaws.com/s.cdpn.io/68133/menu.svg')
        h1 Performance Management System
          i.mdi.mdi-chevron-right

          h1 {{routes}}

        span(flex)

        //- p(hide-sm) Welcome HR! {{child}}
        //- md-button.md-icon-button
        //-   i.mdi.mdi-chevron-down(style="font-size:30px;")
        md-menu(md-position-mode="target-right target", md-offset="5 56")
          md-button.md-icon-button(aria-label='Open phone interactions menu', ng-click='$mdOpenMenu($event)')
            i.mdi.mdi-account(style="font-size:30px;", md-menu-origin)
          md-menu-content(width='4', md-menu-align-target)
            md-menu-item
              md-button(ng-click='')
                i.mdi.mdi-email(style="vertical-align:middle;")
                | Email
            md-menu-divider
            md-menu-item
              md-button(ng-click='')
                i.mdi.mdi-folder
                | Files
            md-menu-item 
              md-button(ng-click='')
                i.mdi.mdi-folder
                | Files
            md-menu-item
              md-button(ng-click='')
                i.mdi.mdi-folder
                | Files


        //- md-button.md-raised.md-primary.md-hue-3(hide-sm, hide,ng-click="logout()") Logout
        span(hide-sm, flex="5")

    div(layout='row', style="height:93%")
      md-sidenav.md-whiteframe-2dp( md-component-id='left', md-is-locked-open="$mdMedia('gt-sm')", md-theme="default" style='width:100px')
        md-content(style='height:94%', layout="column")
          md-content.sidenav-header(layout-padding style='padding-left:20px')
            div(style="height:100px;")
              img(src='{{userSession.photo}}' style='height:100px;width:100px;border-radius:50%;')
            .md-title {{userSession.firstname + " " + userSession.lastname}}
            .md-subhead {{userSession.email}}

          md-list
            md-subheader.md-no-sticket Menu
            md-divider
            md-list-item(flex ng-click="redirect('/')")
              //- i.mdi.mdi-24px.mdi-forum(style="padding-right:10px;")
              md-icon(class='mdi mdi-calendar')
              p Evaluation Schedules

              md-divider
            md-list-item(flex ng-click="redirect('/teams')")
              md-icon(class='mdi mdi-account-multiple')
              p Teams
              md-divider

            md-list-item(flex ng-click="redirect('/employee')")
              md-icon(class='mdi mdi-account')
              p Employee
              md-divider
            md-list-item(flex ng-click="redirect('/form')")
              md-icon(class='mdi mdi-file-document')
              p Form


          md-list
            md-subheader Done?
            md-list-item
              md-button.md-raised.md-primary(ng-click="logout()", flex="grow") Logout

      md-content#appContent.md-padding.md-hue-2(layout='row' flex style="overflow-y: auto;")
        //- p {{userSession |json}} //- uncomment to see user sessoin data

        //- //This should be ng-view
        ng-view(flex)

        //- switch(position="bottom-left")


    // TEMPLATES
    script(type="text/javascript", src="/templates/jst_hr.js")
    // TEMPLATES END


    // SCRIPTS
    script(src="/js/dependencies/sails.io.js")
    script(src="/js/dependencies/angular.min.js")
    script(src="/js/dependencies/angular-animate.min.js")
    script(src="/js/dependencies/angular-aria.min.js")
    script(src="/js/dependencies/angular-cache.js")
    script(src="/js/dependencies/angular-material.js")
    script(src="/js/dependencies/angular-resource.js")
    script(src="/js/dependencies/angular-route.js")
    script(src="/js/dependencies/angular-sails.min.js")
    script(src="/js/dependencies/angular-ui-router.js")
    script(src="/js/dependencies/lodash.js")
    script(src="/js/hr/app.js")
    script(src="/js/global.js")
    script(src="/js/hr/employee/employeeCtrl.js")
    script(src="/js/hr/form/formCtrl.js")
    script(src="/js/hr/home/homeCtrl.js")
    script(src="/js/hr/schedule/scheduleCtrl.js")
    script(src="/js/hr/team/teamCtrl.js")
    script(src="/js/common/FormService.js")
    script(src="/js/common/TeamService.js")
    script(src="/js/common/cache.js")
    // SCRIPTS END
